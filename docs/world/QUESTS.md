# Sistema de Missoes (Quests)

## Visao Geral

O sistema de missoes guia jogadores pelo conteudo do mundo enquanto fornece recompensas significativas.

---

## Tipos de Missao

### 1. Main Quests (Historia Principal)

Sequencia linear que desbloqueia conteudo e ensina mecanicas.

#### Arco 1: Despertar (Floresta Inicial)

| Quest | Nivel | Objetivo | Recompensa |
|-------|-------|----------|------------|
| **Primeiro Despertar** | 1 | Tutorial completo | Arma basica, 100 Gold |
| **Cacada Inicial** | 1 | Matar 5 Slimes | 50 XP, Pocao HP x3 |
| **Explorando o Desconhecido** | 2 | Descobrir 3 areas | 75 XP, Mapa basico |
| **Ameaca Lupina** | 3 | Matar 10 Lobos | 100 XP, Habilidade: Dash |
| **O Primeiro Desafio** | 5 | Derrotar Forest Guardian | 300 XP, Set Inicial |
| **Portoes da Cidade** | 5 | Chegar a Cidade Hub | 200 XP, Acesso a Arena |

#### Arco 2: Profundezas (Cavernas)

| Quest | Nivel | Objetivo | Recompensa |
|-------|-------|----------|------------|
| **Descida as Trevas** | 10 | Entrar nas Cavernas | 150 XP, Tocha |
| **Recursos Valiosos** | 12 | Coletar 20 Minerios | 200 XP, Picareta |
| **Infestacao** | 14 | Eliminar 15 Aranhas | 250 XP, Habilidade: Web Trap |
| **O Rei das Profundezas** | 18 | Derrotar Crystal Golem | 500 XP, Arma Cristal |
| **Segredos Antigos** | 20 | Encontrar Ruina Escondida | 400 XP, Lore Item |

#### Arco 3: Areias do Tempo (Deserto)

| Quest | Nivel | Objetivo | Recompensa |
|-------|-------|----------|------------|
| **Terras Aridas** | 20 | Chegar ao Deserto | 300 XP, Cantil |
| **Sobrevivencia** | 22 | Completar sem morrer 10 min | 350 XP, Desert Set Piece |
| **Tempestade de Areia** | 25 | Navegar durante Sandstorm | 400 XP, Habilidade: Sand Shield |
| **Tumulo do Farao** | 28 | Explorar Pyramid dungeon | 500 XP, Relic Fragment |
| **Anubis Awaits** | 30 | Derrotar Sand Emperor | 750 XP, Legendary Weapon |

#### Arco 4: Ruinas Ancestrais

| Quest | Nivel | Objetivo | Recompensa |
|-------|-------|----------|------------|
| **Ecos do Passado** | 30 | Descobrir as Ruinas | 500 XP |
| **Puzzles Arcanos** | 33 | Resolver 3 puzzles | 600 XP, Habilidade: Arcane Bolt |
| **Biblioteca Perdida** | 36 | Coletar 5 Tomos Antigos | 700 XP, Tome of Knowledge |
| **O Guardiao Eterno** | 40 | Derrotar Ancient Construct | 1000 XP, Legendary Armor |

#### Arco 5: Inferno (Vulcao)

| Quest | Nivel | Objetivo | Recompensa |
|-------|-------|----------|------------|
| **Calor Infernal** | 40 | Sobreviver 5 min no Vulcao | 750 XP, Heat Resist Gem |
| **Forja dos Deuses** | 44 | Encontrar a Ancient Forge | 900 XP, Crafting Recipe |
| **Trials of Fire** | 47 | Completar 3 Fire Trials | 1100 XP, Fire Mastery |
| **Molten Heart** | 50 | Derrotar Volcanic Titan | 1500 XP, Mythic Weapon |

#### Arco 6: Abismo (Endgame)

| Quest | Nivel | Objetivo | Recompensa |
|-------|-------|----------|------------|
| **Portao do Vazio** | 50 | Entrar no Abismo | 1000 XP, Void Attunement |
| **Fragmentos da Escuridao** | 55 | Coletar 10 Void Shards | 1500 XP, Void Set Piece |
| **Corruptores** | 58 | Eliminar 5 Elites do Abismo | 2000 XP, Ultimate Ability |
| **O Final Inevitavel** | 60 | Derrotar Void Lord | 3000 XP, Title: Voidwalker |

---

### 2. Side Quests (Missoes Secundarias)

#### Por Zona

**Floresta Inicial:**
| Quest | Objetivo | Recompensa |
|-------|----------|------------|
| Ervas Curativas | Coletar 10 Healing Herbs | Crafting Recipe |
| Ninho de Lobos | Destruir 3 Wolf Dens | 150 XP, Wolf Pelt |
| Ajuda ao Lenhador | Entregar 20 Madeira | 100 Gold |
| Caravana Perdida | Encontrar Merchant Cart | Random Equipment |

**Cavernas:**
| Quest | Objetivo | Recompensa |
|-------|----------|------------|
| Veias de Ouro | Minerar 15 Gold Ore | 300 Gold |
| Ovos de Aranha | Coletar 5 Spider Eggs | Habilidade: Poison Cloud |
| Mineiros Presos | Resgatar 3 NPCs | Pickaxe Upgrade |
| Tesouro Escondido | Seguir mapa do tesouro | Rare Accessory |

**Deserto:**
| Quest | Objetivo | Recompensa |
|-------|----------|------------|
| Oasis Perdido | Encontrar 3 Oasis | Map Reveal |
| Reliquias Antigas | Coletar 5 Desert Artifacts | Habilidade: Mirage |
| Caravana de Especiarias | Escoltar Caravan | 500 Gold |
| Templo Enterrado | Explorar Hidden Temple | Rare Weapon |

---

### 3. Daily Quests

Resetam todo dia as 00:00 UTC.

| Quest | Objetivo | Recompensa |
|-------|----------|------------|
| **Cacador do Dia** | Matar 30 mobs | 100 XP, 50 Gold |
| **Explorador** | Visitar 3 zonas diferentes | 75 XP |
| **Gladiador** | Jogar 3 partidas de arena | 150 XP, 100 Gold |
| **Vitorioso** | Vencer 1 arena | 200 XP |
| **Colecionador** | Coletar 10 recursos | 50 Gold |
| **Crafting Diario** | Criar 1 item | 75 XP |
| **Boss Hunter** | Participar de 1 boss kill | 250 XP |

**Daily Quest Slots:** 3 por dia
**Reroll:** 1 reroll gratuito por dia

---

### 4. Weekly Quests

Resetam toda segunda-feira as 00:00 UTC.

| Quest | Objetivo | Recompensa |
|-------|----------|------------|
| **Campeao Semanal** | Vencer 10 arenas | 1000 XP, Chest |
| **Exterminador** | Matar 500 mobs | 750 XP, Resource Pack |
| **Mestre Artesao** | Criar 10 items | 500 XP, Recipe |
| **Dungeon Master** | Completar 3 dungeons | 1500 XP, Rare Item |
| **Boss Slayer** | Matar 5 bosses diferentes | 2000 XP, Legendary Chance |
| **Social Butterfly** | Jogar 20 partidas co-op | 500 XP, Cosmetic |

**Weekly Quest Slots:** 3 por semana

---

### 5. Repeatable Quests

Podem ser feitas infinitamente (com cooldown).

| Quest | Cooldown | Objetivo | Recompensa |
|-------|----------|----------|------------|
| Bounty Board | 1h | Matar mob especifico | Gold, XP |
| Resource Rush | 30min | Coletar X recursos | Gold |
| Arena Practice | None | Completar 1 arena | Small XP |
| Monster Contract | 2h | Matar 50 de um tipo | XP, Chance drop |

---

## Sistema de Recompensas

### Tipos de Recompensa

```typescript
interface QuestReward {
  xp?: number;
  gold?: number;
  items?: ItemReward[];
  abilities?: AbilityId[];
  recipes?: CraftingRecipe[];
  unlocks?: UnlockType[];
  reputation?: { faction: string; amount: number };
  title?: string;
}

interface ItemReward {
  type: 'weapon' | 'armor' | 'accessory' | 'consumable' | 'material';
  id?: string;           // Item especifico
  rarity?: Rarity;       // Ou rarity aleatoria
  quantity: number;
}
```

### Scaling de Recompensas

```typescript
const QUEST_REWARD_SCALING = {
  xp: {
    base: 50,
    perLevel: 10,
    difficultyMultiplier: {
      easy: 0.8,
      normal: 1.0,
      hard: 1.3,
      heroic: 1.6,
    },
  },

  gold: {
    base: 25,
    perLevel: 5,
    // Bonus por primeira vez
    firstTimeBonus: 2.0,
  },

  items: {
    rarityByDifficulty: {
      easy: ['common', 'uncommon'],
      normal: ['uncommon', 'rare'],
      hard: ['rare', 'epic'],
      heroic: ['epic', 'legendary'],
    },
  },
};
```

---

## Quest Chains

### Exemplo: A Heranca Perdida

```
Quest Chain: A Heranca Perdida
Zone: Ruinas Ancestrais
Total Steps: 5

[1] Rumores Antigos
    └─ Falar com NPC na cidade
    └─ Reward: 200 XP

[2] Primeiro Fragmento
    └─ Encontrar fragmento na Floresta
    └─ Reward: 300 XP, Map Fragment

[3] O Guardiao do Segredo
    └─ Derrotar mini-boss
    └─ Reward: 500 XP, Key Item

[4] A Biblioteca Selada
    └─ Resolver puzzle + combat encounter
    └─ Reward: 750 XP, Lore Book

[5] Heranca Revelada
    └─ Escolha:
       ├─ Caminho A: Poder → Legendary Weapon
       └─ Caminho B: Sabedoria → Legendary Ability
    └─ Reward: 1000 XP + Choice
```

---

## Sistema de Faccoes

### Reputacao

```typescript
interface FactionReputation {
  standing: ReputationLevel;
  points: number;
  pointsToNext: number;
}

type ReputationLevel =
  | 'hostile'     // -6000 a -3000
  | 'unfriendly'  // -3000 a 0
  | 'neutral'     // 0 a 3000
  | 'friendly'    // 3000 a 9000
  | 'honored'     // 9000 a 21000
  | 'revered'     // 21000 a 42000
  | 'exalted'     // 42000+
  ;
```

### Faccoes

| Faccao | Zona | Rewards |
|--------|------|---------|
| **Guarda da Floresta** | Floresta | Nature abilities, mounts |
| **Mineradores de Cristal** | Cavernas | Mining bonuses, crystal gear |
| **Nomades do Deserto** | Deserto | Desert survival, camel mount |
| **Arqueologos** | Ruinas | Lore items, puzzle bonuses |
| **Forjadores de Fogo** | Vulcao | Crafting bonuses, fire gear |
| **Caçadores do Vazio** | Abismo | Void abilities, endgame gear |

### Quests de Faccao

- Disponiveis apos atingir "Friendly"
- Repetiveis diariamente
- Recompensam reputacao + items exclusivos

---

## Quest Log UI

### Interface

```
┌─────────────────────────────────────────────────┐
│ QUEST LOG                              [X]      │
├─────────────────────────────────────────────────┤
│ ▼ MAIN QUESTS (1 ativo)                         │
│   ► Tempestade de Areia [25]                    │
│     "Navegue pelo deserto durante..."           │
│     Progress: 0/1 Sandstorm survived            │
│     [Track] [Abandon]                           │
│                                                 │
│ ▼ SIDE QUESTS (3 ativos)                        │
│   ► Oasis Perdido [22]                          │
│   ► Reliquias Antigas [24]                      │
│   ► Bounty: Sand Scorpion [23]                  │
│                                                 │
│ ▼ DAILY QUESTS (2/3)                            │
│   ✓ Cacador do Dia [Completo]                   │
│   ► Gladiador (1/3 partidas)                    │
│   ► Colecionador (7/10 recursos)                │
│                                                 │
│ ▼ WEEKLY QUESTS (0/3)                           │
│   ► Campeao Semanal (4/10 vitorias)             │
│   ► Dungeon Master (1/3 dungeons)               │
│   ► Boss Slayer (2/5 bosses)                    │
└─────────────────────────────────────────────────┘
```

---

## Quest Markers

### No Mundo

```typescript
const QUEST_MARKERS = {
  // Disponivel
  available: {
    color: 'yellow',
    icon: '!',
    showOnMinimap: true,
  },

  // Em progresso
  inProgress: {
    color: 'gray',
    icon: '?',
    showOnMinimap: true,
  },

  // Pronta para entregar
  turnIn: {
    color: 'yellow',
    icon: '?',
    animated: true,
    showOnMinimap: true,
  },

  // Objetivo
  objective: {
    color: 'blue',
    icon: 'o',
    showOnMinimap: true,
    showDistance: true,
  },
};
```

---

## Documentos Relacionados

- [ZONES.md](./ZONES.md) - Zonas do mundo
- [MOBS.md](./MOBS.md) - Inimigos
- [BOSSES.md](./BOSSES.md) - Bosses
- [RESOURCES.md](./RESOURCES.md) - Recursos e crafting
- [progression/ACCOUNT-LEVEL.md](../progression/ACCOUNT-LEVEL.md) - Sistema de nivel
